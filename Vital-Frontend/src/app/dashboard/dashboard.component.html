<div class="lg:grid
lg:grid-cols-6
lg:grid-rows-5
lg:gap-4

flex flex-col
justify-between
min-h-[calc(100vh-10rem)]
">
  <!-- Upcoming period -->
  <app-card class="lg:col-span-1 lg:row-span-1 hidden lg:block lg:order-none"
            [redirectLink]="'/analytics'"
            [compact]="true"
  >
    <div class="flex justify-center items-center w-full rounded-full bg-green-accent aspect-square">
      <div class="flex justify-center items-center w-4/5 rounded-full bg-green-light-accent text-center aspect-square">
        <div class="flex-col">
          <p class="lg:text-lg xl:text-xl 3xl:text-3xl">{{nextPeriodInDays}} days</p>
          <p class="text-sm 3xl:text-lg hidden 2xl:block">Estimated next period</p>
        </div>
      </div>
    </div>
  </app-card>

    <!-- Hot water bottle mascot -->
    <app-card [isTextContent]="false" cardColor="bg-yellow-accent" [compact]="true" [hoverable]="false"
              class="hidden lg:block lg:order-none">
        <figure><img src="assets/hot-water-bottle.png" alt="hot water bottle mascot"/></figure>
    </app-card>

    <!-- Metrics -->
    <app-card cardTitle="Metrics"
              class="lg:col-span-2 lg:row-span-2 order-4 lg:order-none h-full justify-between overflow-y-scroll"
              [hasPlusButton]="true"
              (plusButtonClicked)="redirectToMetrics()">
        <div *ngFor="let metric of metricService.loggedMetrics; index as i" class="flex justify-between items-center">
            <metric-list-item [metricName]="metric.metrics.name" [metricValue]="metric.metricValue?.name || ''"
                              [metricTime]="metric.createdAt.toLocaleTimeString()"
                              [listIndex]="i"
                              class="w-full"
            >
            </metric-list-item>
        </div>
    </app-card>

    <!-- Calendar -->
    <app-card class="text-primary-content lg:col-span-2 lg:row-span-3 order-2 lg:order-none" cardTitle="Calendar">
        <calendar></calendar>
    </app-card>

    <!-- Analytics -->
    <app-card cardTitle="Analytics"
              class="lg:col-span-2 lg:row-span-1 hidden lg:block lg:order-none"
              [redirectLink]="'/analytics'"
    >
        <p>Click here for a detailed overview of your cycle.</p>
    </app-card>

  <!-- Current cycle -->
  <app-card cardTitle="Week overview"
            class="lg:col-span-4 lg:row-span-1 order-1 lg:order-none
            max-h-64 overflow-x-scroll"
            [hasPlusButton]="true"
            (plusButtonClicked)="displayHasYourPeriodStartedDialog()"
  >
      <app-current-cycle>
      </app-current-cycle>
  </app-card>

    <!-- Medications -->
    <app-card cardTitle="Medication"
              class="lg:col-span-4 lg:row-span-2 order-3 lg:order-none">

        <div class="flex-col h-full justify-between max-h-[300px] overflow-y-scroll">
            <medication-list-item *ngFor="let number of [1,2,3]" medicationName="Lexaurin" medicationDosage="{{number}}"
                                  medicationTime="22:22" [listIndex]="number"/>
        </div>
    </app-card>

  <!-- Slay T-rex
  <div class="card bg-card hidden lg:block lg:col-span-2 lg:row-span-2 lg:order-none">
    <figure><img src="assets/OIG.png" alt="Slay T-rex"/></figure>
  </div>
  -->

  <!-- Your period has started dialog -->
  <dialog id="hasYourPeriodStartedModal" class="modal" #hasYourPeriodStartedModal>
    <div class="modal-box">
      <h3 class="font-bold text-lg">New cycle</h3>
      <p class="py-4">Has your period started?</p>
      <div class="modal-action">
        <form method="dialog" class="flex">
          <!-- if there is a button in form, it will close the modal -->
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
          <button id="yes-button" class="btn btn-accent mx-2" (click)="cycleService.startNewCycle()">Yes</button>
          <button class="btn">No</button>
        </form>
      </div>
    </div>
  </dialog>
</div>
